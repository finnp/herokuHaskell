<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Lens.Loupe</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Lens-Loupe.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lens-4.1.2.1: Lenses, Folds and Traversals</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>Rank2Types</td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Control.Lens.Loupe</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Deprecated Aliases
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module exports a minimalist API for working with lenses in highly
 monomorphic settings.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:ALens">ALens</a> s t a b = <a href="Control-Lens-Type.html#t:LensLike">LensLike</a> (<a href="Control-Lens-Internal-Context.html#t:Pretext">Pretext</a> (-&gt;) a b) s t a b</li><li class="src short"><span class="keyword">type</span> <a href="#t:ALens-39-">ALens'</a> s a = <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s s a a</li><li class="src short"><a href="#v:cloneLens">cloneLens</a> ::  <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; <a href="Control-Lens-Type.html#t:Lens">Lens</a> s t a b</li><li class="src short"><a href="#v:storing">storing</a> ::  <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; b -&gt; s -&gt; t</li><li class="src short"><a href="#v:-94--35-">(^#)</a> ::  s -&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; a</li><li class="src short"><a href="#v:-35--126-">(#~)</a> ::  <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; b -&gt; s -&gt; t</li><li class="src short"><a href="#v:-35--37--126-">(#%~)</a> ::  <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t</li><li class="src short"><a href="#v:-35--37--37--126-">(#%%~)</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> f =&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; (a -&gt; f b) -&gt; s -&gt; f t</li><li class="src short"><a href="#v:-60--35--126-">(&lt;#~)</a> ::  <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; b -&gt; s -&gt; (b, t)</li><li class="src short"><a href="#v:-60--35--37--126-">(&lt;#%~)</a> ::  <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; (b, t)</li><li class="src short"><a href="#v:-35--61-">(#=)</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s s a b -&gt; b -&gt; m ()</li><li class="src short"><a href="#v:-35--37--61-">(#%=)</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s s a b -&gt; (a -&gt; b) -&gt; m ()</li><li class="src short"><a href="#v:-35--37--37--61-">(#%%=)</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s s a b -&gt; (a -&gt; (r, b)) -&gt; m r</li><li class="src short"><a href="#v:-60--35--61-">(&lt;#=)</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s s a b -&gt; b -&gt; m b</li><li class="src short"><a href="#v:-60--35--37--61-">(&lt;#%=)</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s s a b -&gt; (a -&gt; b) -&gt; m b</li><li class="src short"><span class="keyword">type</span> <a href="#t:Loupe">Loupe</a> s t a b = <a href="Control-Lens-Type.html#t:LensLike">LensLike</a> (<a href="Control-Lens-Internal-Context.html#t:Pretext">Pretext</a> (-&gt;) a b) s t a b</li><li class="src short"><span class="keyword">type</span> <a href="#t:SimpleLoupe">SimpleLoupe</a> s a = <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a a</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ALens" class="def">ALens</a> s t a b = <a href="Control-Lens-Type.html#t:LensLike">LensLike</a> (<a href="Control-Lens-Internal-Context.html#t:Pretext">Pretext</a> (-&gt;) a b) s t a b</p><div class="doc"><p>When you see this as an argument to a function, it expects a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>.
</p><p>This type can also be used when you need to store a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> in a container,
 since it is rank-1. You can turn them back into a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> with <code><a href="Control-Lens-Loupe.html#v:cloneLens">cloneLens</a></code>,
 or use it directly with combinators like <code><a href="Control-Lens-Loupe.html#v:storing">storing</a></code> and (<code><a href="Control-Lens-Loupe.html#v:-94--35-">^#</a></code>).
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ALens-39-" class="def">ALens'</a> s a = <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s s a a</p><div class="doc"><pre>
 type <code><a href="Control-Lens-Loupe.html#t:ALens-39-">ALens'</a></code> = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:cloneLens" class="def">cloneLens</a> ::  <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; <a href="Control-Lens-Type.html#t:Lens">Lens</a> s t a b</p><div class="doc"><p>Cloning a <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code> is one way to make sure you aren't given
 something weaker, such as a <code><a href="Control-Lens-Traversal.html#t:Traversal">Traversal</a></code> and can be
 used as a way to pass around lenses that have to be monomorphic in <code>f</code>.
</p><p>Note: This only accepts a proper <code><a href="Control-Lens-Type.html#t:Lens">Lens</a></code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let example l x = set (cloneLens l) (x^.cloneLens l + 1) x in example _2 (&quot;hello&quot;,1,&quot;you&quot;)
</code></strong>(&quot;hello&quot;,2,&quot;you&quot;)
</pre></div></div><div class="top"><p class="src"><a name="v:storing" class="def">storing</a> ::  <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; b -&gt; s -&gt; t</p><div class="doc"><p>A version of <code><a href="Control-Lens-Setter.html#t:set">set</a></code> that works on <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>storing _2 &quot;world&quot; (&quot;hello&quot;,&quot;there&quot;)
</code></strong>(&quot;hello&quot;,&quot;world&quot;)
</pre></div></div><div class="top"><p class="src"><a name="v:-94--35-" class="def">(^#)</a> ::  s -&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; a</p><div class="doc"><p>A version of (<code><a href="Control-Lens-Getter.html#t:-94-.">^.</a></code>) that works on <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;hello&quot;,&quot;world&quot;)^#_2
</code></strong>&quot;world&quot;
</pre></div></div><div class="top"><p class="src"><a name="v:-35--126-" class="def">(#~)</a> ::  <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; b -&gt; s -&gt; t</p><div class="doc"><p>A version of (<code><a href="Control-Lens-Setter.html#t:.-126-">.~</a></code>) that works on <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;hello&quot;,&quot;there&quot;) &amp; _2 #~ &quot;world&quot;
</code></strong>(&quot;hello&quot;,&quot;world&quot;)
</pre></div></div><div class="top"><p class="src"><a name="v:-35--37--126-" class="def">(#%~)</a> ::  <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t</p><div class="doc"><p>A version of (<code><a href="Control-Lens-Setter.html#t:-37--126-">%~</a></code>) that works on <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;hello&quot;,&quot;world&quot;) &amp; _2 #%~ length
</code></strong>(&quot;hello&quot;,5)
</pre></div></div><div class="top"><p class="src"><a name="v:-35--37--37--126-" class="def">(#%%~)</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> f =&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; (a -&gt; f b) -&gt; s -&gt; f t</p><div class="doc"><p>A version of (<code><a href="Control-Lens-Lens.html#v:-37--37--126-">%%~</a></code>) that works on <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;hello&quot;,&quot;world&quot;) &amp; _2 #%%~ \x -&gt; (length x, x ++ &quot;!&quot;)
</code></strong>(5,(&quot;hello&quot;,&quot;world!&quot;))
</pre></div></div><div class="top"><p class="src"><a name="v:-60--35--126-" class="def">(&lt;#~)</a> ::  <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; b -&gt; s -&gt; (b, t)</p><div class="doc"><p>A version of (<code><a href="Control-Lens-Setter.html#t:-60-.-126-">&lt;.~</a></code>) that works on <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;hello&quot;,&quot;there&quot;) &amp; _2 &lt;#~ &quot;world&quot;
</code></strong>(&quot;world&quot;,(&quot;hello&quot;,&quot;world&quot;))
</pre></div></div><div class="top"><p class="src"><a name="v:-60--35--37--126-" class="def">(&lt;#%~)</a> ::  <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s t a b -&gt; (a -&gt; b) -&gt; s -&gt; (b, t)</p><div class="doc"><p>A version of (<code><a href="Control-Lens-Lens.html#v:-60--37--126-">&lt;%~</a></code>) that works on <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>.
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;hello&quot;,&quot;world&quot;) &amp; _2 &lt;#%~ length
</code></strong>(5,(&quot;hello&quot;,5))
</pre></div></div><div class="top"><p class="src"><a name="v:-35--61-" class="def">(#=)</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s s a b -&gt; b -&gt; m ()</p><div class="doc"><p>A version of (<code><a href="Control-Lens-Setter.html#t:.-61-">.=</a></code>) that works on <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:-35--37--61-" class="def">(#%=)</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s s a b -&gt; (a -&gt; b) -&gt; m ()</p><div class="doc"><p>A version of (<code><a href="Control-Lens-Setter.html#t:-37--61-">%=</a></code>) that works on <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:-35--37--37--61-" class="def">(#%%=)</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s s a b -&gt; (a -&gt; (r, b)) -&gt; m r</p><div class="doc"><p>A version of (<code><a href="Control-Lens-Lens.html#v:-37--37--61-">%%=</a></code>) that works on <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:-60--35--61-" class="def">(&lt;#=)</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s s a b -&gt; b -&gt; m b</p><div class="doc"><p>A version of (<code><a href="Control-Lens-Setter.html#t:-60-.-61-">&lt;.=</a></code>) that works on <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:-60--35--37--61-" class="def">(&lt;#%=)</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="Control-Lens-Loupe.html#t:ALens">ALens</a> s s a b -&gt; (a -&gt; b) -&gt; m b</p><div class="doc"><p>A version of (<code><a href="Control-Lens-Lens.html#v:-60--37--61-">&lt;%=</a></code>) that works on <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>.
</p></div></div><h1 id="g:1">Deprecated Aliases
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Loupe" class="def">Loupe</a> s t a b = <a href="Control-Lens-Type.html#t:LensLike">LensLike</a> (<a href="Control-Lens-Internal-Context.html#t:Pretext">Pretext</a> (-&gt;) a b) s t a b</p><div class="doc"><div class="warning"><p>Deprecated: use ALens
</p></div><p>This is an older alias for a type-restricted form of lens that is able to be passed around
 in containers monomorphically.
</p><p>Deprecated. This has since been renamed to <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code> for consistency.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:SimpleLoupe" class="def">SimpleLoupe</a> s a = <a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a> s s a a</p><div class="doc"><div class="warning"><p>Deprecated: use ALens'
</p></div><pre>
 type <code><a href="Control-Lens-Loupe.html#t:SimpleLoupe">SimpleLoupe</a></code> = <code><a href="Control-Lens-Type.html#t:Simple">Simple</a></code> <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code>
</pre><p>Deprecated for two reasons. <code><a href="Control-Lens-Loupe.html#t:Loupe">Loupe</a></code> is now <code><a href="Control-Lens-Loupe.html#t:ALens">ALens</a></code>, and we no longer use the verbose <code>SimpleFoo</code> naming
 convention, this has since been renamed to <code><a href="Control-Lens-Loupe.html#t:ALens-39-">ALens'</a></code> for consistency.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>