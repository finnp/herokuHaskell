<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Heist.Splices.Cache</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Heist-Splices-Cache.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">heist-0.13.1.2: An Haskell template system supporting both HTML5 and XML.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Heist.Splices.Cache</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The &quot;cache&quot; splice ensures that its contents are cached and only
 evaluated periodically.  The cached contents are returned every time the
 splice is referenced.
</p><p>Use the ttl attribute to set the amount of time between reloads.  The ttl
 value should be a positive integer followed by a single character
 specifying the units.  Valid units are a single letter abbreviation for one
 of seconds, minutes, hours, days, and weeks.  If the ttl string is invalid
 or the ttl attribute is not specified, the cache is never refreshed unless
 explicitly cleared with clearCacheTagState.  The compiled splice version of
 the cache tag does not require a cache tag state, so clearCacheTagState
 will not work for compiled cache tags.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:CacheTagState">CacheTagState</a> </li><li class="src short"><a href="#v:cacheImpl">cacheImpl</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> n =&gt; <a href="Heist-Splices-Cache.html#t:CacheTagState">CacheTagState</a> -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:cacheImplCompiled">cacheImplCompiled</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> n =&gt; <a href="Heist-Splices-Cache.html#t:CacheTagState">CacheTagState</a> -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:mkCacheTag">mkCacheTag</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a>, <a href="Heist-Splices-Cache.html#t:CacheTagState">CacheTagState</a>)</li><li class="src short"><a href="#v:clearCacheTagState">clearCacheTagState</a> :: <a href="Heist-Splices-Cache.html#t:CacheTagState">CacheTagState</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:CacheTagState" class="def">CacheTagState</a>  </p><div class="doc"><p>State for storing cache tag information
</p></div></div><div class="top"><p class="src"><a name="v:cacheImpl" class="def">cacheImpl</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> n =&gt; <a href="Heist-Splices-Cache.html#t:CacheTagState">CacheTagState</a> -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</p><div class="doc"><p>This is the splice that actually does the work.  You should bind it to
 the same tag name as you bound the splice returned by mkCacheTag otherwise
 it won't work and you'll get runtime errors.
</p></div></div><div class="top"><p class="src"><a name="v:cacheImplCompiled" class="def">cacheImplCompiled</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> n =&gt; <a href="Heist-Splices-Cache.html#t:CacheTagState">CacheTagState</a> -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</p><div class="doc"><p>This is the compiled splice version of cacheImpl.
</p></div></div><div class="top"><p class="src"><a name="v:mkCacheTag" class="def">mkCacheTag</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a>, <a href="Heist-Splices-Cache.html#t:CacheTagState">CacheTagState</a>)</p><div class="doc"><p>Returns items necessary to set up a &quot;cache&quot; tag.  The cache tag cannot
 be bound automatically with the other default Heist tags.  This is because
 this function also returns CacheTagState, so the user will be able to clear
 it with the <code><a href="Heist-Splices-Cache.html#v:clearCacheTagState">clearCacheTagState</a></code> function.
</p><p>This function returns a splice and a CacheTagState.  The splice is of type
 <code>Splice IO</code> because it has to be bound as a load time preprocessing splice.
 Haskell's type system won't allow you to screw up and pass this splice as
 the wrong argument to initHeist.
</p></div></div><div class="top"><p class="src"><a name="v:clearCacheTagState" class="def">clearCacheTagState</a> :: <a href="Heist-Splices-Cache.html#t:CacheTagState">CacheTagState</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Clears the cache tag state.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>