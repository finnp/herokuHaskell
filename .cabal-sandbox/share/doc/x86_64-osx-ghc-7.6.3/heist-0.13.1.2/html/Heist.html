<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Heist</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Heist.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">heist-0.13.1.2: An Haskell template system supporting both HTML5 and XML.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Heist</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Primary Heist initialization functions
</a></li><li><a href="#g:2">Core Heist data types
</a></li><li><a href="#g:3">Splice API
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module defines the core data types used by Heist.  In practice you will
also want to import one or both of <a href="Heist-Compiled.html">Heist.Compiled</a> or <a href="Heist-Interpreted.html">Heist.Interpreted</a> to
get functions needed for writing splices.
</p><p>The Heist template system allows you to build custom HTML and XML based markup
languages.  With Heist you can define your own domain-specific tags
implemented with Haskell and use them in your templates.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:loadTemplates">loadTemplates</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; EitherT [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="Heist.html#t:TemplateRepo">TemplateRepo</a></li><li class="src short"><a href="#v:reloadTemplates">reloadTemplates</a> :: <a href="Heist.html#t:TemplateRepo">TemplateRepo</a> -&gt; EitherT [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="Heist.html#t:TemplateRepo">TemplateRepo</a></li><li class="src short"><a href="#v:addTemplatePathPrefix">addTemplatePathPrefix</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Heist.html#t:TemplateRepo">TemplateRepo</a> -&gt; <a href="Heist.html#t:TemplateRepo">TemplateRepo</a></li><li class="src short"><a href="#v:initHeist">initHeist</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist.html#t:HeistConfig">HeistConfig</a> n -&gt; EitherT [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="Heist.html#t:HeistState">HeistState</a> n)</li><li class="src short"><a href="#v:initHeistWithCacheTag">initHeistWithCacheTag</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> n =&gt; <a href="Heist.html#t:HeistConfig">HeistConfig</a> n -&gt; EitherT [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="Heist.html#t:HeistState">HeistState</a> n, <a href="Heist-Splices-Cache.html#t:CacheTagState">CacheTagState</a>)</li><li class="src short"><a href="#v:defaultInterpretedSplices">defaultInterpretedSplices</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> m)</li><li class="src short"><a href="#v:defaultLoadTimeSplices">defaultLoadTimeSplices</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> m)</li><li class="src short"><span class="keyword">data</span>  <a href="#t:HeistConfig">HeistConfig</a> m = <a href="#v:HeistConfig">HeistConfig</a> {<ul class="subs"><li><a href="#v:hcInterpretedSplices">hcInterpretedSplices</a> :: <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> m)</li><li><a href="#v:hcLoadTimeSplices">hcLoadTimeSplices</a> :: <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a>)</li><li><a href="#v:hcCompiledSplices">hcCompiledSplices</a> :: <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Compiled.html#t:Splice">Splice</a> m)</li><li><a href="#v:hcAttributeSplices">hcAttributeSplices</a> :: <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist.html#t:AttrSplice">AttrSplice</a> m)</li><li><a href="#v:hcTemplateLocations">hcTemplateLocations</a> :: [<a href="Heist.html#t:TemplateLocation">TemplateLocation</a>]</li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:TemplateRepo">TemplateRepo</a> = <a href="file:///Library/Haskell/ghc-7.6.3/lib/unordered-containers-0.2.3.0/doc/html/Data-HashMap-Strict.html#t:HashMap">HashMap</a> <a href="Heist.html#t:TPath">TPath</a> <a href="Heist.html#t:DocumentFile">DocumentFile</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:TemplateLocation">TemplateLocation</a> = EitherT [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="Heist.html#t:TemplateRepo">TemplateRepo</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Template">Template</a> = [<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a>]</li><li class="src short"><span class="keyword">type</span> <a href="#t:TPath">TPath</a> = [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a>]</li><li class="src short"><span class="keyword">type</span> <a href="#t:MIMEType">MIMEType</a> = <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:DocumentFile">DocumentFile</a>  = <a href="#v:DocumentFile">DocumentFile</a> {<ul class="subs"><li><a href="#v:dfDoc">dfDoc</a> :: <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Document">Document</a></li><li><a href="#v:dfFile">dfFile</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:AttrSplice">AttrSplice</a> m = <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> m [(<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>)]</li><li class="src short"><span class="keyword">data</span>  <a href="#t:RuntimeSplice">RuntimeSplice</a> m a</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Chunk">Chunk</a> m</li><li class="src short"><span class="keyword">data</span>  <a href="#t:HeistState">HeistState</a> m</li><li class="src short"><a href="#v:templateNames">templateNames</a> ::  <a href="Heist.html#t:HeistState">HeistState</a> m -&gt; [<a href="Heist.html#t:TPath">TPath</a>]</li><li class="src short"><a href="#v:compiledTemplateNames">compiledTemplateNames</a> ::  <a href="Heist.html#t:HeistState">HeistState</a> m -&gt; [<a href="Heist.html#t:TPath">TPath</a>]</li><li class="src short"><a href="#v:hasTemplate">hasTemplate</a> ::  <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:spliceNames">spliceNames</a> ::  <a href="Heist.html#t:HeistState">HeistState</a> m -&gt; [<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>]</li><li class="src short"><a href="#v:compiledSpliceNames">compiledSpliceNames</a> ::  <a href="Heist.html#t:HeistState">HeistState</a> m -&gt; [<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>]</li><li class="src short"><span class="keyword">data</span>  <a href="#t:HeistT">HeistT</a> n m a</li><li class="src short"><a href="#v:evalHeistT">evalHeistT</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m a -&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; m a</li><li class="src short"><a href="#v:getParamNode">getParamNode</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a></li><li class="src short"><a href="#v:getContext">getContext</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m <a href="Heist.html#t:TPath">TPath</a></li><li class="src short"><a href="#v:getTemplateFilePath">getTemplateFilePath</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a>)</li><li class="src short"><a href="#v:localParamNode">localParamNode</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a> -&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a>) -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m a -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m a</li><li class="src short"><a href="#v:getsHS">getsHS</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="Heist.html#t:HeistState">HeistState</a> n -&gt; r) -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m r</li><li class="src short"><a href="#v:getHS">getHS</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m (<a href="Heist.html#t:HeistState">HeistState</a> n)</li><li class="src short"><a href="#v:putHS">putHS</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m ()</li><li class="src short"><a href="#v:modifyHS">modifyHS</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n) -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m ()</li><li class="src short"><a href="#v:restoreHS">restoreHS</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m ()</li><li class="src short"><a href="#v:localHS">localHS</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n) -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m a -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m a</li><li class="src short"><a href="#v:getDoc">getDoc</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> <a href="Heist.html#t:DocumentFile">DocumentFile</a>)</li><li class="src short"><a href="#v:getXMLDoc">getXMLDoc</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> <a href="Heist.html#t:DocumentFile">DocumentFile</a>)</li><li class="src short"><a href="#v:orError">orError</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m b -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m b</li><li class="src short">module <a href="Heist-SpliceAPI.html">Heist.SpliceAPI</a></li></ul></div><div id="interface"><h1 id="g:1">Primary Heist initialization functions
</h1><div class="top"><p class="src"><a name="v:loadTemplates" class="def">loadTemplates</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; EitherT [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="Heist.html#t:TemplateRepo">TemplateRepo</a></p><div class="doc"><p>Loads templates from disk.  This function returns just a template map so
 you can load multiple directories and combine the maps before initializing
 your HeistState.
</p></div></div><div class="top"><p class="src"><a name="v:reloadTemplates" class="def">reloadTemplates</a> :: <a href="Heist.html#t:TemplateRepo">TemplateRepo</a> -&gt; EitherT [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="Heist.html#t:TemplateRepo">TemplateRepo</a></p><div class="doc"><p>Reloads all the templates an an existing TemplateRepo.
</p></div></div><div class="top"><p class="src"><a name="v:addTemplatePathPrefix" class="def">addTemplatePathPrefix</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Heist.html#t:TemplateRepo">TemplateRepo</a> -&gt; <a href="Heist.html#t:TemplateRepo">TemplateRepo</a></p><div class="doc"><p>Adds a path prefix to a templates in a map returned by loadTemplates.  If
 you want to add multiple levels of directories, separate them with slashes
 as in <a href="foo/bar.html">foo/bar</a>.  Using an empty string as a path prefix will leave the
 map unchanged.
</p></div></div><div class="top"><p class="src"><a name="v:initHeist" class="def">initHeist</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist.html#t:HeistConfig">HeistConfig</a> n -&gt; EitherT [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="Heist.html#t:HeistState">HeistState</a> n)</p><div class="doc"><p>This is the main Heist initialization function.  You pass in a map of all
 templates and all of your splices and it constructs and returns a
 HeistState.
</p><p>We don't provide functions to add either type of loadtime splices to your
 HeistState after initHeist because it doesn't make any sense unless you
 re-initialize all templates with the new splices.  If you add any old-style
 runtime heist splices after calling this function, they will still work
 fine if you use Heist.Interpreted.renderTemplate.  If you add any templates
 later, then those templates will be available for interpreted rendering,
 but not for compiled rendering.
</p><p>In the past you could add templates to your HeistState after initialization
 using its Monoid instance.  Due to implementation details, this is no
 longer possible.  All of your templates must be known when you call this
 function.
</p></div></div><div class="top"><p class="src"><a name="v:initHeistWithCacheTag" class="def">initHeistWithCacheTag</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> n =&gt; <a href="Heist.html#t:HeistConfig">HeistConfig</a> n -&gt; EitherT [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="Heist.html#t:HeistState">HeistState</a> n, <a href="Heist-Splices-Cache.html#t:CacheTagState">CacheTagState</a>)</p><div class="doc"><p>Wrapper around initHeist that also sets up a cache tag.  It sets up both
 compiled and interpreted versions of the cache tag splices.  If you need to
 configure the cache tag differently than how this function does it, you
 will still probably want to pattern your approach after this function's
 implementation.
</p></div></div><div class="top"><p class="src"><a name="v:defaultInterpretedSplices" class="def">defaultInterpretedSplices</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> m)</p><div class="doc"><p>The built-in set of static splices.  All the splices that used to be
 enabled by default are included here.  To get the normal Heist behavior you
 should include these in the hcLoadTimeSplices list in your HeistConfig.  If
 you are using interpreted splice mode, then you might also want to bind the
 <code><a href="Heist-Splices-Apply.html#v:deprecatedContentCheck">deprecatedContentCheck</a></code> splice to the content tag as a load time splice.
</p></div></div><div class="top"><p class="src"><a name="v:defaultLoadTimeSplices" class="def">defaultLoadTimeSplices</a> :: <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> m)</p><div class="doc"><p>The built-in set of splices that you should use in compiled splice mode.
 This list includes everything from <code><a href="Heist.html#v:defaultInterpretedSplices">defaultInterpretedSplices</a></code> plus a
 splice for the content tag that errors out when it sees any instance of the
 old content tag, which has now been moved to two separate tags called
 apply-content and bind-content.
</p></div></div><h1 id="g:2">Core Heist data types
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:HeistConfig" class="def">HeistConfig</a> m </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:HeistConfig" class="def">HeistConfig</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:hcInterpretedSplices" class="def">hcInterpretedSplices</a> :: <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> m)</dt><dd class="doc"><p>Interpreted splices are the splices that Heist has always had.  They
 return a list of nodes and are processed at runtime.
</p></dd><dt class="src"><a name="v:hcLoadTimeSplices" class="def">hcLoadTimeSplices</a> :: <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a>)</dt><dd class="doc"><p>Load time splices are like interpreted splices because they return a
 list of nodes.  But they are like compiled splices because they are
 processed once at load time.  All of Heist's built-in splices should be
 used as load time splices.
</p></dd><dt class="src"><a name="v:hcCompiledSplices" class="def">hcCompiledSplices</a> :: <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Compiled.html#t:Splice">Splice</a> m)</dt><dd class="doc"><p>Compiled splices return a DList of Chunks and are processed at load
 time to generate a runtime monad action that will be used to render the
 template.
</p></dd><dt class="src"><a name="v:hcAttributeSplices" class="def">hcAttributeSplices</a> :: <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist.html#t:AttrSplice">AttrSplice</a> m)</dt><dd class="doc"><p>Attribute splices are bound to attribute names and return a list of
 attributes.
</p></dd><dt class="src"><a name="v:hcTemplateLocations" class="def">hcTemplateLocations</a> :: [<a href="Heist.html#t:TemplateLocation">TemplateLocation</a>]</dt><dd class="doc"><p>A list of all the locations that Heist should get its templates
 from.  
</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:HeistConfig" class="caption collapser" onclick="toggleSection('i:HeistConfig')">Instances</p><div id="section.i:HeistConfig" class="show"><table><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Heist.html#t:HeistConfig">HeistConfig</a> m)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:TemplateRepo" class="def">TemplateRepo</a> = <a href="file:///Library/Haskell/ghc-7.6.3/lib/unordered-containers-0.2.3.0/doc/html/Data-HashMap-Strict.html#t:HashMap">HashMap</a> <a href="Heist.html#t:TPath">TPath</a> <a href="Heist.html#t:DocumentFile">DocumentFile</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:TemplateLocation" class="def">TemplateLocation</a> = EitherT [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="Heist.html#t:TemplateRepo">TemplateRepo</a></p><div class="doc"><p>An IO action for getting a template repo from this location.  By not just
 using a directory path here, we support templates loaded from a database,
 retrieved from the network, or anything else you can think of.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Template" class="def">Template</a> = [<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a>]</p><div class="doc"><p>A <code><a href="Heist.html#t:Template">Template</a></code> is a forest of XML nodes.  Here we deviate from the &quot;single
 root node&quot; constraint of well-formed XML because we want to allow
 templates to contain document fragments that may not have a single root.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:TPath" class="def">TPath</a> = [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a>]</p><div class="doc"><p>Reversed list of directories.  This holds the path to the template
 currently being processed.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:MIMEType" class="def">MIMEType</a> = <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></p><div class="doc"><p>MIME Type.  The type alias is here to make the API clearer.
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:DocumentFile" class="def">DocumentFile</a>  </p><div class="doc"><p>Holds data about templates read from disk.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:DocumentFile" class="def">DocumentFile</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:dfDoc" class="def">dfDoc</a> :: <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Document">Document</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:dfFile" class="def">dfFile</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:DocumentFile" class="caption collapser" onclick="toggleSection('i:DocumentFile')">Instances</p><div id="section.i:DocumentFile" class="show"><table><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="Heist.html#t:DocumentFile">DocumentFile</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:AttrSplice" class="def">AttrSplice</a> m = <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> m [(<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>)]</p><div class="doc"><p>Type alias for attribute splices.  The function parameter is the value of
 the bound attribute splice.  The return value is a list of attribute
 key/value pairs that get substituted in the place of the bound attribute.
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:RuntimeSplice" class="def">RuntimeSplice</a> m a </p><div class="doc"><p>Monad used for runtime splice execution.
</p></div><div class="subs instances"><p id="control.i:RuntimeSplice" class="caption collapser" onclick="toggleSection('i:RuntimeSplice')">Instances</p><div id="section.i:RuntimeSplice" class="show"><table><tr><td class="src"><a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> m =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> m) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> m a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Chunk" class="def">Chunk</a> m </p><div class="doc"><p>Opaque type representing pieces of output from compiled splices.
</p></div><div class="subs instances"><p id="control.i:Chunk" class="caption collapser" onclick="toggleSection('i:Chunk')">Instances</p><div id="section.i:Chunk" class="show"><table><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> (<a href="Heist.html#t:Chunk">Chunk</a> m)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:HeistState" class="def">HeistState</a> m </p><div class="doc"><p>Holds all the state information needed for template processing.  You will
 build a <code>HeistState</code> using <code>initHeist</code> and any of Heist's <code>HeistState -&gt;
 HeistState</code> &quot;filter&quot; functions.  Then you use the resulting <code>HeistState</code>
 in calls to <code>renderTemplate</code>.
</p><p>m is the runtime monad
</p></div><div class="subs instances"><p id="control.i:HeistState" class="caption collapser" onclick="toggleSection('i:HeistState')">Instances</p><div id="section.i:HeistState" class="show"><table><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> m =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> (<a href="Heist.html#t:HeistState">HeistState</a> m)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:templateNames" class="def">templateNames</a> ::  <a href="Heist.html#t:HeistState">HeistState</a> m -&gt; [<a href="Heist.html#t:TPath">TPath</a>]</p><div class="doc"><p>Gets the names of all the templates defined in a HeistState.
</p></div></div><div class="top"><p class="src"><a name="v:compiledTemplateNames" class="def">compiledTemplateNames</a> ::  <a href="Heist.html#t:HeistState">HeistState</a> m -&gt; [<a href="Heist.html#t:TPath">TPath</a>]</p><div class="doc"><p>Gets the names of all the templates defined in a HeistState.
</p></div></div><div class="top"><p class="src"><a name="v:hasTemplate" class="def">hasTemplate</a> ::  <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Returns <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#v:True">True</a></code> if the given template can be found in the heist state.
</p></div></div><div class="top"><p class="src"><a name="v:spliceNames" class="def">spliceNames</a> ::  <a href="Heist.html#t:HeistState">HeistState</a> m -&gt; [<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>]</p><div class="doc"><p>Gets the names of all the interpreted splices defined in a HeistState.
</p></div></div><div class="top"><p class="src"><a name="v:compiledSpliceNames" class="def">compiledSpliceNames</a> ::  <a href="Heist.html#t:HeistState">HeistState</a> m -&gt; [<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>]</p><div class="doc"><p>Gets the names of all the compiled splices defined in a HeistState.
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:HeistT" class="def">HeistT</a> n m a </p><div class="doc"><p>HeistT is the monad transformer used for splice processing.  HeistT
 intentionally does not expose any of its functionality via MonadState or
 MonadReader functions.  We define passthrough instances for the most common
 types of monads.  These instances allow the user to use HeistT in a monad
 stack without needing calls to <code><a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Class.html#v:lift">lift</a></code>.
</p><p><code>n</code> is the runtime monad (the parameter to HeistState).
</p><p><code>m</code> is the monad being run now.  In this case, &quot;now&quot; is a variable
 concept.  The type <code>HeistT n n</code> means that &quot;now&quot; is runtime.  The type
 <code>HeistT n IO</code> means that &quot;now&quot; is <code>IO</code>, and more importantly it is NOT
 runtime. In Heist, the rule of thumb is that <code>IO</code> means load time and <code>n</code>
 means runtime.
</p></div><div class="subs instances"><p id="control.i:HeistT" class="caption collapser" onclick="toggleSection('i:HeistT')">Instances</p><div id="section.i:HeistT" class="show"><table><tr><td class="src"><a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> e m =&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-Error-Class.html#t:MonadError">MonadError</a> e (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc"><p>MonadError passthrough instance
</p></td></tr><tr><td class="src"><a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> r m =&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> r (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc"><p>MonadReader passthrough instance
</p></td></tr><tr><td class="src"><a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s m =&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#t:MonadState">MonadState</a> s (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc"><p>MonadState passthrough instance
</p></td></tr><tr><td class="src"><a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-Trans-Class.html#t:MonadTrans">MonadTrans</a> (<a href="Heist.html#t:HeistT">HeistT</a> n)</td><td class="doc"><p>MonadTrans instance
</p></td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc"><p>Monad instance
</p></td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> m =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc"><p>Functor instance
</p></td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> m =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad-Fix.html#t:MonadFix">MonadFix</a> m =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad-Fix.html#t:MonadFix">MonadFix</a> (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc"><p>MonadFix passthrough instance
</p></td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc"><p>MonadPlus passthrough instance
</p></td></tr><tr><td class="src">(<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> m) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc"><p>Applicative instance
</p></td></tr><tr><td class="src"><a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/MonadCatchIO-transformers-0.3.1.1/html/Control-Monad-CatchIO.html#t:MonadCatchIO">MonadCatchIO</a> m =&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/MonadCatchIO-transformers-0.3.1.1/html/Control-Monad-CatchIO.html#t:MonadCatchIO">MonadCatchIO</a> (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc"><p>MonadCatchIO instance
</p></td></tr><tr><td class="src">(<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Applicative.html#t:Alternative">Alternative</a> (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc"><p>Alternative passthrough instance
</p></td></tr><tr><td class="src"><a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc"><p>MonadIO instance
</p></td></tr><tr><td class="src"><a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> m =&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-Cont-Class.html#t:MonadCont">MonadCont</a> (<a href="Heist.html#t:HeistT">HeistT</a> n m)</td><td class="doc"><p>MonadCont passthrough instance
</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:evalHeistT" class="def">evalHeistT</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m a -&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; m a</p><div class="doc"><p>Evaluates a template monad as a computation in the underlying monad.
</p></div></div><div class="top"><p class="src"><a name="v:getParamNode" class="def">getParamNode</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a></p><div class="doc"><p>Gets the node currently being processed.
</p><pre> &lt;speech author=&quot;Shakespeare&quot;&gt;
   To sleep, perchance to dream.
 &lt;/speech&gt;
</pre><p>When you call <code>getParamNode</code> inside the code for the <code>speech</code> splice, it
 returns the Node for the <code>speech</code> tag and its children.  <code>getParamNode &gt;&gt;=
 childNodes</code> returns a list containing one <code>TextNode</code> containing part of
 Hamlet's speech.  <code>liftM (getAttribute &quot;author&quot;) getParamNode</code> would
 return <code>Just <a href="Shakespeare.html">Shakespeare</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:getContext" class="def">getContext</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m <a href="Heist.html#t:TPath">TPath</a></p><div class="doc"><p>Gets the current context
</p></div></div><div class="top"><p class="src"><a name="v:getTemplateFilePath" class="def">getTemplateFilePath</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a>)</p><div class="doc"><p>Gets the full path to the file holding the template currently being
 processed.  Returns Nothing if the template is not associated with a file
 on disk or if there is no template being processed.
</p></div></div><div class="top"><p class="src"><a name="v:localParamNode" class="def">localParamNode</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a> -&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a>) -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m a -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m a</p><div class="doc"><p>HeistT's <code><a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-Reader-Class.html#v:local">local</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:getsHS" class="def">getsHS</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="Heist.html#t:HeistState">HeistState</a> n -&gt; r) -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m r</p><div class="doc"><p>HeistT's <code><a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#v:gets">gets</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:getHS" class="def">getHS</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m (<a href="Heist.html#t:HeistState">HeistState</a> n)</p><div class="doc"><p>HeistT's <code><a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#v:get">get</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:putHS" class="def">putHS</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m ()</p><div class="doc"><p>HeistT's <code><a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#v:put">put</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:modifyHS" class="def">modifyHS</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n) -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m ()</p><div class="doc"><p>HeistT's <code><a href="file:///Library/Haskell/ghc-7.6.3/lib/mtl-2.1.2/doc/html/Control-Monad-State-Class.html#v:modify">modify</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:restoreHS" class="def">restoreHS</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m ()</p><div class="doc"><p>Restores the HeistState.  This function is almost like putHS except it
 preserves the current doctypes.  You should use this function instead of
 <code>putHS</code> to restore an old state.  This was needed because doctypes needs to
 be in a <a href="global scope.html">global scope</a> as opposed to the template call <a href="local scope.html">local scope</a> of
 state items such as recursionDepth, curContext, and spliceMap.
</p></div></div><div class="top"><p class="src"><a name="v:localHS" class="def">localHS</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n) -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m a -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m a</p><div class="doc"><p>Abstracts the common pattern of running a HeistT computation with
 a modified heist state.
</p></div></div><div class="top"><p class="src"><a name="v:getDoc" class="def">getDoc</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> <a href="Heist.html#t:DocumentFile">DocumentFile</a>)</p><div class="doc"><p>Reads an HTML template from disk.
</p></div></div><div class="top"><p class="src"><a name="v:getXMLDoc" class="def">getXMLDoc</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> <a href="Heist.html#t:DocumentFile">DocumentFile</a>)</p><div class="doc"><p>Reads an XML template from disk.
</p></div></div><div class="top"><p class="src"><a name="v:orError" class="def">orError</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m b -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m b</p><div class="doc"><p>If Heist is running in fail fast mode, then this function will throw an
 exception with the second argument as the error message.  Otherwise, the
 first argument will be executed to represent silent failure.
</p><p>This behavior allows us to fail quickly if an error crops up during
 load-time splice processing or degrade more gracefully if the error occurs
 while a user request is being processed.
</p></div></div><h1 id="g:3">Splice API
</h1><div class="top"><p class="src">module <a href="Heist-SpliceAPI.html">Heist.SpliceAPI</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>