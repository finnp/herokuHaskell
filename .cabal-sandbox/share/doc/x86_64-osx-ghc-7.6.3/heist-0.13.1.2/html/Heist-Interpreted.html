<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Heist.Interpreted</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Heist-Interpreted.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">heist-0.13.1.2: An Haskell template system supporting both HTML5 and XML.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Heist.Interpreted</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">HeistState Functions
</a></li><li><a href="#g:2">Functions for creating splices
</a></li><li><a href="#g:3">HeistT functions
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module defines the API for writing and working with interpreted splices.
It exports some of the same symbols as <a href="Heist-Compiled.html">Heist.Compiled</a>, so you will probably
want to import it qualified.
</p><p>Interpreted splices can be thought of as a function <code>Node -&gt; m [Node]</code>.  Heist
then substitutes the resulting list of nodes into your template in place of
the input node.  <code><a href="Heist-Interpreted.html#t:Splice">Splice</a></code> is implemented as a type synonym <code>type Splice m =
HeistT m [Node]</code>, and <code>HeistT</code> has a function <code>getParamNode</code> that lets you get
the input node.
</p><p>Suppose you have a place on your page where you want to display a link with
the text &quot;Logout username&quot; if the user is currently logged in or a link to
the login page if no user is logged in.  Assume you have a function
<code>getUser :: MyAppMonad (Maybe Text)</code> that gets the current user.
You can implement this functionality with a <code><a href="Heist-Interpreted.html#t:Splice">Splice</a></code> as follows:
</p><pre> import           Blaze.ByteString.Builder
 import           Data.ByteString.Char8 (ByteString)
 import qualified Data.ByteString.Char8 as B
 import           Data.Text (Text)
 import qualified Data.Text as T
 import qualified Text.XmlHtml as X

 import qualified Heist.Interpreted as I

 link :: Text -&gt; Text -&gt; X.Node
 link target text = X.Element &quot;a&quot; [(&quot;href&quot;, target)] [X.TextNode text]

 loginLink :: X.Node
 loginLink = link &quot;/login&quot; &quot;Login&quot;

 logoutLink :: Text -&gt; X.Node
 logoutLink user = link &quot;/logout&quot; (T.append &quot;Logout &quot; user)

 loginLogoutSplice :: I.Splice MyAppMonad
 loginLogoutSplice = do
     user &lt;- lift getUser
     return [maybe loginLink logoutLink user]

</pre></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Splice">Splice</a> n = <a href="Heist.html#t:HeistT">HeistT</a> n n <a href="Heist.html#t:Template">Template</a></li><li class="src short"><a href="#v:addTemplate">addTemplate</a> ::  <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Heist.html#t:Template">Template</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</li><li class="src short"><a href="#v:addXMLTemplate">addXMLTemplate</a> ::  <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Heist.html#t:Template">Template</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</li><li class="src short"><a href="#v:lookupSplice">lookupSplice</a> ::  <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> n)</li><li class="src short"><a href="#v:bindSplice">bindSplice</a> ::  <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</li><li class="src short"><a href="#v:bindSplices">bindSplices</a> ::  <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> n) -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</li><li class="src short"><a href="#v:bindAttributeSplices">bindAttributeSplices</a> ::  <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist.html#t:AttrSplice">AttrSplice</a> n) -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</li><li class="src short"><a href="#v:textSplice">textSplice</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m <a href="Heist.html#t:Template">Template</a></li><li class="src short"><a href="#v:runChildren">runChildren</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:runChildrenWith">runChildrenWith</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> n) -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:runChildrenWithTrans">runChildrenWithTrans</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; (b -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n) -&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> b -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:runChildrenWithTemplates">runChildrenWithTemplates</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> <a href="Heist.html#t:Template">Template</a> -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:runChildrenWithText">runChildrenWithText</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:mapSplices">mapSplices</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Monoid.html#t:Monoid">Monoid</a> b) =&gt; (a -&gt; m b) -&gt; [a] -&gt; m b</li><li class="src short"><a href="#v:stopRecursion">stopRecursion</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m ()</li><li class="src short"><a href="#v:runNode">runNode</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a> -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:runAttributes">runAttributes</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; [(<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>)] -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n n [(<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>)]</li><li class="src short"><a href="#v:runNodeList">runNodeList</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; [<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a>] -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:evalTemplate">evalTemplate</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n n (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Heist.html#t:Template">Template</a>)</li><li class="src short"><a href="#v:bindStrings">bindStrings</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</li><li class="src short"><a href="#v:bindString">bindString</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</li><li class="src short"><a href="#v:callTemplate">callTemplate</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> n) -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n n <a href="Heist.html#t:Template">Template</a></li><li class="src short"><a href="#v:callTemplateWithText">callTemplateWithText</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n n <a href="Heist.html#t:Template">Template</a></li><li class="src short"><a href="#v:renderTemplate">renderTemplate</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; n (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>, <a href="Heist.html#t:MIMEType">MIMEType</a>))</li><li class="src short"><a href="#v:renderWithArgs">renderWithArgs</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; n (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>, <a href="Heist.html#t:MIMEType">MIMEType</a>))</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Splice" class="def">Splice</a> n = <a href="Heist.html#t:HeistT">HeistT</a> n n <a href="Heist.html#t:Template">Template</a></p></div><h1 id="g:1">HeistState Functions
</h1><div class="top"><p class="src"><a name="v:addTemplate" class="def">addTemplate</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>Path that the template will be referenced by
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:Template">Template</a></td><td class="doc"><p>The template's DOM nodes
</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>An optional path to the actual file on disk where the
 template is stored
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Adds an HTML format template to the heist state.
</p></div></div><div class="top"><p class="src"><a name="v:addXMLTemplate" class="def">addXMLTemplate</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>Path that the template will be referenced by
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:Template">Template</a></td><td class="doc"><p>The template's DOM nodes
</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>An optional path to the actual file on disk where the
 template is stored
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Adds an XML format template to the heist state.
</p></div></div><div class="top"><p class="src"><a name="v:lookupSplice" class="def">lookupSplice</a> ::  <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> n)</p><div class="doc"><p>Convenience function for looking up a splice.
</p></div></div><div class="top"><p class="src"><a name="v:bindSplice" class="def">bindSplice</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a></td><td class="doc"><p>tag name
</p></td></tr><tr><td class="src">-&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</td><td class="doc"><p>splice action
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</td><td class="doc"><p>source state
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Binds a new splice declaration to a tag name within a <code><a href="Heist.html#t:HeistState">HeistState</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:bindSplices" class="def">bindSplices</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> n)</td><td class="doc"><p>splices to bind
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</td><td class="doc"><p>start state
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Binds a set of new splice declarations within a <code><a href="Heist.html#t:HeistState">HeistState</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:bindAttributeSplices" class="def">bindAttributeSplices</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist.html#t:AttrSplice">AttrSplice</a> n)</td><td class="doc"><p>splices to bind
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</td><td class="doc"><p>start state
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Binds a set of new splice declarations within a <code><a href="Heist.html#t:HeistState">HeistState</a></code>.
</p></div></div><h1 id="g:2">Functions for creating splices
</h1><div class="top"><p class="src"><a name="v:textSplice" class="def">textSplice</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m <a href="Heist.html#t:Template">Template</a></p><div class="doc"><p>Converts <code><a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a></code> to a splice returning a single <code>TextNode</code>.
</p></div></div><div class="top"><p class="src"><a name="v:runChildren" class="def">runChildren</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</p><div class="doc"><p>Runs the parameter node's children and returns the resulting node list.
 By itself this function is a simple passthrough splice that makes the
 spliced node disappear.  In combination with locally bound splices, this
 function makes it easier to pass the desired view into your splices.
</p></div></div><div class="top"><p class="src"><a name="v:runChildrenWith" class="def">runChildrenWith</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> n)</td><td class="doc"><p>List of splices to bind before running the param nodes.
</p></td></tr><tr><td class="src">-&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</td><td class="doc"><p>Returns the passed in view.
</p></td></tr></table></div><div class="doc"><p>Binds a list of splices before using the children of the spliced node as
 a view.
</p></div></div><div class="top"><p class="src"><a name="v:runChildrenWithTrans" class="def">runChildrenWithTrans</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (b -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n)</td><td class="doc"><p>Splice generating function
</p></td></tr><tr><td class="src">-&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> b</td><td class="doc"><p>List of tuples to be bound
</p></td></tr><tr><td class="src">-&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Wrapper around runChildrenWith that applies a transformation function to
 the second item in each of the tuples before calling runChildrenWith.
</p></div></div><div class="top"><p class="src"><a name="v:runChildrenWithTemplates" class="def">runChildrenWithTemplates</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> <a href="Heist.html#t:Template">Template</a> -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</p><div class="doc"><p>Like runChildrenWith but using constant templates rather than dynamic
 splices.
</p></div></div><div class="top"><p class="src"><a name="v:runChildrenWithText" class="def">runChildrenWithText</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</p><div class="doc"><p>Like runChildrenWith but using literal text rather than dynamic splices.
</p></div></div><div class="top"><p class="src"><a name="v:mapSplices" class="def">mapSplices</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Monoid.html#t:Monoid">Monoid</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (a -&gt; m b)</td><td class="doc"><p>Splice generating function
</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>List of items to generate splices for
</p></td></tr><tr><td class="src">-&gt; m b</td><td class="doc"><p>The result of all splices concatenated together.
</p></td></tr></table></div><div class="doc"><p>Maps a splice generating function over a list and concatenates the
 results.  This function now has a more general type signature so it works
 with both compiled and interpreted splices.  The old type signature was
 this:
</p><pre> mapSplices :: (Monad n)
         =&gt; (a -&gt; Splice n n)
         -&gt; [a]
         -&gt; Splice n n
</pre></div></div><h1 id="g:3">HeistT functions
</h1><div class="top"><p class="src"><a name="v:stopRecursion" class="def">stopRecursion</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Heist.html#t:HeistT">HeistT</a> n m ()</p><div class="doc"><p>Stops the recursive processing of splices.  Consider the following
 example:
</p><pre> &lt;foo&gt;
   &lt;bar&gt;
     ...
   &lt;/bar&gt;
 &lt;/foo&gt;
</pre><p>Assume that <code>&quot;foo&quot;</code> is bound to a splice procedure. Running the <code>foo</code>
 splice will result in a list of nodes <code>L</code>.  Normally <code>foo</code> will recursively
 scan <code>L</code> for splices and run them.  If <code>foo</code> calls <code>stopRecursion</code>, <code>L</code>
 will be included in the output verbatim without running any splices.
</p></div></div><div class="top"><p class="src"><a name="v:runNode" class="def">runNode</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a> -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</p><div class="doc"><p>Performs splice processing on a single node.
</p></div></div><div class="top"><p class="src"><a name="v:runAttributes" class="def">runAttributes</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; [(<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>)] -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n n [(<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>)]</p><div class="doc"><p>Performs splice processing on a list of attributes.  This is useful in
 situations where you need to stop recursion, but still run splice
 processing on the node's attributes.
</p></div></div><div class="top"><p class="src"><a name="v:runNodeList" class="def">runNodeList</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; [<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a>] -&gt; <a href="Heist-Interpreted.html#t:Splice">Splice</a> n</p><div class="doc"><p>Performs splice processing on a list of nodes.
</p></div></div><div class="top"><p class="src"><a name="v:evalTemplate" class="def">evalTemplate</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n n (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Heist.html#t:Template">Template</a>)</p><div class="doc"><p>Looks up a template name evaluates it by calling runNodeList.
</p></div></div><div class="top"><p class="src"><a name="v:bindStrings" class="def">bindStrings</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</p><div class="doc"><p>Binds a list of constant string splices.
</p></div></div><div class="top"><p class="src"><a name="v:bindString" class="def">bindString</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n</p><div class="doc"><p>Binds a single constant string splice.
</p></div></div><div class="top"><p class="src"><a name="v:callTemplate" class="def">callTemplate</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>The name of the template
</p></td></tr><tr><td class="src">-&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Interpreted.html#t:Splice">Splice</a> n)</td><td class="doc"><p>Splices to call the template with
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistT">HeistT</a> n n <a href="Heist.html#t:Template">Template</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Renders a template with the specified parameters.  This is the function
 to use when you want to <a href="call.html">call</a> a template and pass in parameters from
 inside a splice.  If the template does not exist, this version simply
 returns an empty list.
</p></div></div><div class="top"><p class="src"><a name="v:callTemplateWithText" class="def">callTemplateWithText</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>The name of the template
</p></td></tr><tr><td class="src">-&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a></td><td class="doc"><p>Splices to call the template with
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistT">HeistT</a> n n <a href="Heist.html#t:Template">Template</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like callTemplate except the splices being bound are constant text
 splices.
</p></div></div><div class="top"><p class="src"><a name="v:renderTemplate" class="def">renderTemplate</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; n (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>, <a href="Heist.html#t:MIMEType">MIMEType</a>))</p><div class="doc"><p>Renders a template from the specified HeistState to a <code><a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a></code>.  The
 MIME type returned is based on the detected character encoding, and whether
 the root template was an HTML or XML format template.  It will always be
 <code>text<em>html@ or @text</em>xml</code>.  If a more specific MIME type is needed for a
 particular XML application, it must be provided by the application.
</p></div></div><div class="top"><p class="src"><a name="v:renderWithArgs" class="def">renderWithArgs</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; n (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>, <a href="Heist.html#t:MIMEType">MIMEType</a>))</p><div class="doc"><p>Renders a template with the specified arguments passed to it.  This is a
 convenience function for the common pattern of calling renderTemplate after
 using bindString, bindStrings, or bindSplice to set up the arguments to the
 template.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>