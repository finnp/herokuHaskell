<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Heist.Compiled</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Heist-Compiled.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">heist-0.13.1.2: An Haskell template system supporting both HTML5 and XML.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Heist.Compiled</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">High level compiled splice API
</a></li><li><a href="#g:2">Functions for manipulating lists of compiled splices
</a></li><li><a href="#g:3">Constructing Chunks
</a></li><li><a href="#g:4">Running nodes and splices
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Compiled splices are similar to the original Heist (interpreted) splices, but
without the high performance costs of traversing a DOM at runtime.  Compiled
splices do all of their DOM processing at load time.  They are compiled to
produce a runtime computation that generates a ByteString Builder.  This
preserves the ability to write splices that access runtime information from
the HTTP request, database, etc.
</p><p>If you import both this module and <a href="Heist-Interpreted.html">Heist.Interpreted</a> in the same file, then
you will need to import them qualified.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Splice">Splice</a> n = <a href="Heist.html#t:HeistT">HeistT</a> n <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (DList (<a href="Heist.html#t:Chunk">Chunk</a> n))</li><li class="src short"><a href="#v:renderTemplate">renderTemplate</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (n <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>, <a href="Heist.html#t:MIMEType">MIMEType</a>)</li><li class="src short"><a href="#v:codeGen">codeGen</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; DList (<a href="Heist.html#t:Chunk">Chunk</a> n) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a></li><li class="src short"><a href="#v:runChildren">runChildren</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:textSplice">textSplice</a> ::  (a -&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>) -&gt; a -&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a></li><li class="src short"><a href="#v:nodeSplice">nodeSplice</a> ::  (a -&gt; [<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a>]) -&gt; a -&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a></li><li class="src short"><a href="#v:pureSplice">pureSplice</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; (a -&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:deferMany">deferMany</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n [a] -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:deferMap">deferMap</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; (a -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n b) -&gt; (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n b -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:mayDeferMap">mayDeferMap</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; (a -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)) -&gt; (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n b -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:bindLater">bindLater</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; (a -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:withSplices">withSplices</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n -&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:manyWithSplices">manyWithSplices</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n -&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n [a] -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:withLocalSplices">withLocalSplices</a> ::  <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Compiled.html#t:Splice">Splice</a> n) -&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist.html#t:AttrSplice">AttrSplice</a> n) -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> a -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> a</li><li class="src short"><a href="#v:yieldPure">yieldPure</a> ::  <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a> -&gt; DList (<a href="Heist.html#t:Chunk">Chunk</a> n)</li><li class="src short"><a href="#v:yieldRuntime">yieldRuntime</a> ::  <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a> -&gt; DList (<a href="Heist.html#t:Chunk">Chunk</a> n)</li><li class="src short"><a href="#v:yieldRuntimeEffect">yieldRuntimeEffect</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n () -&gt; DList (<a href="Heist.html#t:Chunk">Chunk</a> n)</li><li class="src short"><a href="#v:yieldPureText">yieldPureText</a> ::  <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; DList (<a href="Heist.html#t:Chunk">Chunk</a> n)</li><li class="src short"><a href="#v:yieldRuntimeText">yieldRuntimeText</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; DList (<a href="Heist.html#t:Chunk">Chunk</a> n)</li><li class="src short"><a href="#v:runNodeList">runNodeList</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; [<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a>] -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:runNode">runNode</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a> -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</li><li class="src short"><a href="#v:runAttributes">runAttributes</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; [(<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>)] -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> [DList (<a href="Heist.html#t:Chunk">Chunk</a> n)]</li><li class="src short"><a href="#v:runAttributesRaw">runAttributesRaw</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; [(<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>)] -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n [(<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>)])</li><li class="src short"><a href="#v:callTemplate">callTemplate</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (DList (<a href="Heist.html#t:Chunk">Chunk</a> n))</li></ul></div><div id="interface"><h1 id="g:1">High level compiled splice API
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Splice" class="def">Splice</a> n = <a href="Heist.html#t:HeistT">HeistT</a> n <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (DList (<a href="Heist.html#t:Chunk">Chunk</a> n))</p><div class="doc"><p>A compiled Splice is a HeistT computation that returns a <code>DList
 (Chunk m)</code>.
</p><p>The more interesting part of the type signature is what comes before the
 return value.  The first type parameter in <code><code><a href="Heist.html#t:HeistT">HeistT</a></code> n IO</code> is the runtime
 monad.  This reveals that the Chunks know about the runtime monad.  The
 second type parameter in <code>HeistT n IO</code> is <code>IO</code>.  This tells is that the
 compiled splices themselves are run in the IO monad, which will usually
 mean at load time.  Compiled splices run at load time, and they return
 computations that run at runtime.
</p></div></div><div class="top"><p class="src"><a name="v:renderTemplate" class="def">renderTemplate</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist.html#t:HeistState">HeistState</a> n -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (n <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>, <a href="Heist.html#t:MIMEType">MIMEType</a>)</p><div class="doc"><p>Looks up a compiled template and returns a runtime monad computation that
 constructs a builder.
</p></div></div><div class="top"><p class="src"><a name="v:codeGen" class="def">codeGen</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; DList (<a href="Heist.html#t:Chunk">Chunk</a> n) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a></p><div class="doc"><p>Given a list of output chunks, consolidate turns consecutive runs of
 <code>Pure Html</code> values into maximally-efficient pre-rendered strict
 <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></code> chunks.
</p></div></div><div class="top"><p class="src"><a name="v:runChildren" class="def">runChildren</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</p><div class="doc"><p>Runs the parameter node's children and returns the resulting compiled
 chunks.  By itself this function is a simple passthrough splice that makes
 the spliced node disappear.  In combination with locally bound splices,
 this function makes it easier to pass the desired view into your splices.
</p></div></div><h1 id="g:2">Functions for manipulating lists of compiled splices
</h1><div class="top"><p class="src"><a name="v:textSplice" class="def">textSplice</a> ::  (a -&gt; <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>) -&gt; a -&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a></p><div class="doc"><p>Converts a pure text splice function to a pure Builder splice function.
</p></div></div><div class="top"><p class="src"><a name="v:nodeSplice" class="def">nodeSplice</a> ::  (a -&gt; [<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a>]) -&gt; a -&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a></p><div class="doc"><p>Converts a pure Node splice function to a pure Builder splice function.
</p></div></div><div class="top"><p class="src"><a name="v:pureSplice" class="def">pureSplice</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; (a -&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</p><div class="doc"><p>Converts a pure Builder splice function into a monadic splice function
 of a RuntimeSplice.
</p></div></div><div class="top"><p class="src"><a name="v:deferMany" class="def">deferMany</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n [a] -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</p><div class="doc"><p>Similar to <code><a href="Heist-Interpreted.html#v:mapSplices">mapSplices</a></code> in interpreted mode.  Gets a runtime list of
 items and applies a compiled runtime splice function to each element of the
 list.
</p></div></div><div class="top"><p class="src"><a name="v:deferMap" class="def">deferMap</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; (a -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n b) -&gt; (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n b -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</p><div class="doc"><p>Saves the results of a runtme computation in a <code><a href="Heist-Compiled-LowLevel.html#t:Promise">Promise</a></code> so they don't
 get recalculated if used more than once.
</p></div></div><div class="top"><p class="src"><a name="v:mayDeferMap" class="def">mayDeferMap</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; (a -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)) -&gt; (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n b -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</p><div class="doc"><p>Like deferMap, but only runs the result if a Maybe function of the
 runtime value returns Just.  If it returns Nothing, then no output is
 generated.
</p><p>This is a good example of how to do more complex flow control with
 promises.  The generalization of this abstraction is too complex to be
 distilled to elegant high-level combinators.  If you need to implement your
 own special flow control, then you should use functions from the
 <code><a href="Heist-Compiled.html#t:LowLevel">LowLevel</a></code> module similarly to how it is done in the
 implementation of this function.
</p></div></div><div class="top"><p class="src"><a name="v:bindLater" class="def">bindLater</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; (a -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</p><div class="doc"><p>Converts an RuntimeSplice into a Splice, given a helper function that
 generates a Builder.
</p></div></div><div class="top"><p class="src"><a name="v:withSplices" class="def">withSplices</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</td><td class="doc"><p>Splice to be run
</p></td></tr><tr><td class="src">-&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n)</td><td class="doc"><p>Splices to be bound first
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a</td><td class="doc"><p>Runtime data needed by the above splices
</p></td></tr><tr><td class="src">-&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Runs a splice, but first binds splices given by splice functions that
 need some runtime data.
</p></div></div><div class="top"><p class="src"><a name="v:manyWithSplices" class="def">manyWithSplices</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n -&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n a -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n) -&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n [a] -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</p><div class="doc"><p>Like withSplices, but evaluates the splice repeatedly for each element in
 a list generated at runtime.
</p></div></div><div class="top"><p class="src"><a name="v:withLocalSplices" class="def">withLocalSplices</a> ::  <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist-Compiled.html#t:Splice">Splice</a> n) -&gt; <a href="Heist-SpliceAPI.html#t:Splices">Splices</a> (<a href="Heist.html#t:AttrSplice">AttrSplice</a> n) -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> a -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> a</p><div class="doc"><p>Adds a list of compiled splices to the splice map.  This function is
 useful because it allows compiled splices to bind other compiled splices
 during load-time splice processing.
</p></div></div><h1 id="g:3">Constructing Chunks
</h1><div class="doc"><p>The internals of the Chunk data type are deliberately not exported because
 we want to hide the underlying implementation as much as possible.  The
 <code>yield...</code> functions give you lower level construction of DLists of Chunks.
</p><p>Most of the time you will use these functions composed with return to
 generate a Splice.  But we decided not to include the return in these
 functions to allow you to work with the DLists purely.
</p></div><div class="top"><p class="src"><a name="v:yieldPure" class="def">yieldPure</a> ::  <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a> -&gt; DList (<a href="Heist.html#t:Chunk">Chunk</a> n)</p><div class="doc"><p>Yields a pure Builder known at load time.  You should use this and
 <code><a href="Heist-Compiled.html#v:yieldPureText">yieldPureText</a></code> as much as possible to maximize the parts of your page that
 can be compiled to static ByteStrings.
</p></div></div><div class="top"><p class="src"><a name="v:yieldRuntime" class="def">yieldRuntime</a> ::  <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a> -&gt; DList (<a href="Heist.html#t:Chunk">Chunk</a> n)</p><div class="doc"><p>Yields a runtime action that returns a builder.
</p></div></div><div class="top"><p class="src"><a name="v:yieldRuntimeEffect" class="def">yieldRuntimeEffect</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n () -&gt; DList (<a href="Heist.html#t:Chunk">Chunk</a> n)</p><div class="doc"><p>Yields a runtime action that returns no value and is only needed for its
 side effect.
</p></div></div><div class="top"><p class="src"><a name="v:yieldPureText" class="def">yieldPureText</a> ::  <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; DList (<a href="Heist.html#t:Chunk">Chunk</a> n)</p><div class="doc"><p>A convenience wrapper around yieldPure for working with Text.  Roughly
 equivalent to <code><a href="Heist-Compiled.html#v:textSplice">textSplice</a></code> from Heist.Interpreted.
</p></div></div><div class="top"><p class="src"><a name="v:yieldRuntimeText" class="def">yieldRuntimeText</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a> -&gt; DList (<a href="Heist.html#t:Chunk">Chunk</a> n)</p><div class="doc"><p>Convenience wrapper around yieldRuntime allowing you to work with Text.
</p></div></div><h1 id="g:4">Running nodes and splices
</h1><div class="top"><p class="src"><a name="v:runNodeList" class="def">runNodeList</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; [<a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a>] -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</p><div class="doc"><p>Returns a computation that performs load-time splice processing on the
 supplied list of nodes.
</p></div></div><div class="top"><p class="src"><a name="v:runNode" class="def">runNode</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="file:///Users/finn/code/haskell/herokuHaskell/.cabal-sandbox/share/doc/x86_64-osx-ghc-7.6.3/xmlhtml-0.2.3.2/html/Text-XmlHtml.html#t:Node">Node</a> -&gt; <a href="Heist-Compiled.html#t:Splice">Splice</a> n</p><div class="doc"><p>Runs a single node.  If there is no splice referenced anywhere in the
 subtree, then it is rendered as a pure chunk, otherwise it calls
 compileNode to generate the appropriate runtime computation.
</p></div></div><div class="top"><p class="src"><a name="v:runAttributes" class="def">runAttributes</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [(<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>)]</td><td class="doc"><p>List of attributes
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistT">HeistT</a> n <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> [DList (<a href="Heist.html#t:Chunk">Chunk</a> n)]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Performs splice processing on a list of attributes.  This is useful in
 situations where you need to stop recursion, but still run splice
 processing on the node's attributes.
</p></div></div><div class="top"><p class="src"><a name="v:runAttributesRaw" class="def">runAttributesRaw</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [(<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>)]</td><td class="doc"><p>List of attributes
</p></td></tr><tr><td class="src">-&gt; <a href="Heist.html#t:HeistT">HeistT</a> n <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="Heist.html#t:RuntimeSplice">RuntimeSplice</a> n [(<a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>, <a href="file:///Library/Haskell/ghc-7.6.3/lib/text-0.11.3.1/doc/html/Data-Text-Internal.html#t:Text">Text</a>)])</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Performs splice processing on a list of attributes.  This is useful in
 situations where you need to stop recursion, but still run splice
 processing on the node's attributes.
</p></div></div><div class="top"><p class="src"><a name="v:callTemplate" class="def">callTemplate</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> n =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Heist.html#t:HeistT">HeistT</a> n <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (DList (<a href="Heist.html#t:Chunk">Chunk</a> n))</p><div class="doc"><p>Looks up a compiled template and returns a compiled splice.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>